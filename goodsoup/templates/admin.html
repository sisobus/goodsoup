{% extends 'base.html' %}
{% block content %}
<style>
.pagination-page-info {
    padding: .6em;
    padding-left: 0;
    width: 40em;
    margin: .5em;
    margin-left: 0;
    font-size: 12px;
}
.pagination-page-info b {
    color: black;
    padding-left: 2px;
    padding: .1em .25em;
    font-size: 150%;
}
</style>
<div class="container-fluid title">
    <div class="row">
        <div class="col-sm-12">
            <h2>관리자 페이지</h2>
        </div>
    </div>
</div>
<div class="container-fluid cart-list">
    <div class="row">
        <div class="col-sm-12 blog-content">
            {{ ret.pagination.info }}

            <table class="table table-striped table-bordered">
                <thead >
                    <tr>
                        <th style="5%;text-align:center;" >
                            No
                        </th>
                        <th style="width:30%;text-align:center;">
                            주소
                        </th>
                        <th style="width:30%;text-align:center;">
                            국 
                        </th>
                        <th style="width:12%;text-align:center;">
                            전화번호
                        </th>
                        <th style="width:8%;text-align:center;">
                            총 가격
                        </th>
                        <th style="width:9%;text-align:center;">
                            날짜
                        </th>
                        <th style="width:6%;text-align:center;">
                            배송 상태
                        </th>
                    </tr>
                </thead>
                <tbody>
                {% for payment in ret.payments %}
                <tr> 
                    <th scope="row" style="width:5%;text-align:right;">
                        {{ payment.id }}
                    </th>
                    <td style="width:30%;">
                        {{ payment.address }}
                    </td>
                    <td style="width:30%;">
                        {% for soup in payment.soups %}
                            {% if soup != payment.soups[0] %}
                            ,&nbsp;
                            {% endif %}
                            {{soup.name}} {{soup.soup_cnt}}개
                        {% endfor %}
                    </td>
                    <td style="width:12%;text-align:center;">
                        {{ payment.tel }}
                    </td>
                    <td style="width:8%;text-align:center;">
                        {{ '{:,}'.format(payment.paid_amount|int) }}원
                    </td>
                    <td style="width:9%;text-align:center;">
                        {{ payment.created_at.strftime('%Y-%m-%d') }}
                    </td>
                    <td style="width:6%;text-align:center;">
                        {{ payment.state }}
                    </td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <center>
                {{ ret.pagination.links }}
            </center>
        </div>
        <!--
        <div class="col-sm-3 blog-sidebar">
        </div>
        -->
    </div>
</div>
<script>
$(document).ready(function() {
     $('.pagination ul').addClass('pagination');
});
</script>
{% endblock %}
